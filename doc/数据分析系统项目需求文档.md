# 常州跨境电商三中心 - 企业信息管理系统需求文档

> 版本：v2.0 | 更新日期：2026-02-03 | 基于后端API模块设计文档同步更新

## 1. 项目概述

### 1.1 项目背景
常州跨境电商三中心需要一套企业信息管理系统，用于管理和跟踪区域内跨境电商相关企业的信息、转化状态和跟进记录，以支持企业孵化和服务工作。

### 1.2 项目目标
- 建立完整的企业信息数据库
- 实现企业转化漏斗的可视化管理
- 规范化企业跟进流程
- 提供数据分析和决策支持
- 支持多维度筛选和数据导出

### 1.3 用户角色
| 角色 | 描述 | 主要权限 |
|------|------|----------|
| 管理员 | 系统管理员 | 全部功能权限、数据字典管理 |
| 经理 | 部门经理 | 查看所有数据、分配任务、数据导出 |
| 用户 | 一线人员 | 管理分配给自己的企业、添加跟进记录 |

### 1.4 技术架构
| 层级 | 技术选型 |
|------|----------|
| 前端 | React + TypeScript + Ant Design + ECharts |
| 后端 | Node.js + Express / Python + FastAPI (待定) |
| 数据库 | MySQL 8.0+ |
| 认证 | JWT Token |
| API文档 | Swagger/OpenAPI |

### 1.5 环境规划

| 环境 | 用途 | 配置文件 |
|------|------|----------|
| 开发环境 (development) | 本地开发调试 | `.env` |
| 生产环境 (production) | 线上正式部署 | `.env.production` |

**环境差异：**
- 开发环境：详细日志、宽松CORS、简化JWT密钥
- 生产环境：精简日志、严格CORS、强JWT密钥、HTTPS

---

## 2. 功能模块

### 2.0 用户认证（新增）

#### 2.0.1 功能描述
系统登录认证和用户管理功能。

#### 2.0.2 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| A-001 | 用户登录 | 用户名密码登录，返回JWT Token | 高 |
| A-002 | 用户登出 | 退出登录，使Token失效 | 高 |
| A-003 | 获取当前用户 | 获取当前登录用户信息和权限 | 高 |
| A-004 | 修改密码 | 用户修改自己的密码 | 中 |

#### 2.0.3 对应API
- `POST /api/auth/login` - 用户登录
- `POST /api/auth/logout` - 用户登出
- `GET /api/auth/me` - 获取当前用户
- `POST /api/auth/change-password` - 修改密码

#### 2.0.4 登录页面界面设计
| 元素 | 说明 |
|------|------|
| 页面背景 | 渐变色背景（#1a1f35 → #2d1f47） |
| 登录卡片 | 居中白色卡片，圆角阴影 |
| 系统标题 | "常州跨境电商三中心" + "企业信息管理系统" |
| 用户名输入框 | 带用户图标前缀 |
| 密码输入框 | 带锁图标前缀，支持显示/隐藏密码 |
| 登录按钮 | 渐变色按钮（#667eea → #764ba2） |
| 默认账号提示 | 底部显示默认测试账号信息 |

#### 2.0.5 认证流程
1. 用户访问任意页面，未登录时自动跳转到登录页
2. 输入用户名密码，点击登录
3. 登录成功后，Token 存储到 localStorage
4. 后续请求自动携带 Authorization: Bearer {token}
5. Token 过期或无效时，自动跳转回登录页
6. 点击退出登录，清除 Token 并跳转到登录页

---

### 2.1 概览看板 (Dashboard)

#### 2.1.1 功能描述
系统首页，提供企业数据的整体概览和快捷入口。

#### 2.1.2 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| D-001 | 统计卡片 | 显示企业总数、潜在企业、有明确需求、已签约入驻的数量统计 | 高 |
| D-002 | 本月变化 | 各统计项显示本月新增数量 | 中 |
| D-003 | 漏斗阶段分布 | 以进度条形式展示各漏斗阶段的企业数量分布 | 高 |
| D-004 | 区域分布图 | 横向柱状图展示各区域企业数量分布 | 中 |
| D-005 | 行业分布图 | 环形饼图展示各行业企业数量占比 | 中 |
| D-006 | 快捷操作 | 提供"新增企业"、"添加跟进"、"漏斗分析"快捷按钮 | 高 |
| D-007 | 待跟进提醒 | 显示超过30天未跟进的企业数量、本周需回访企业数量 | 高 |

#### 2.1.3 界面元素
- 4个统计卡片（带图标和颜色区分）
- 漏斗阶段分布列表（带进度条）
- 区域分布柱状图
- 行业分布饼图
- 快捷操作按钮组
- 待跟进提醒列表

#### 2.1.4 对应API
- `GET /api/dashboard/overview` - 统计概览数据
- `GET /api/dashboard/funnel` - 漏斗阶段分布
- `GET /api/dashboard/districts` - 区域分布
- `GET /api/dashboard/industries` - 行业分布
- `GET /api/dashboard/pending-follow-ups` - 待跟进提醒

---

### 2.2 企业管理

#### 2.2.1 企业列表页

##### 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| E-001 | 企业列表展示 | 表格形式展示企业基本信息 | 高 |
| E-002 | 搜索功能 | 支持按企业名称模糊搜索 | 高 |
| E-003 | 阶段筛选 | 下拉选择筛选特定漏斗阶段的企业 | 高 |
| E-004 | 区域筛选 | 下拉选择筛选特定区域的企业 | 中 |
| E-004a | 行业筛选 | 下拉选择筛选特定行业的企业 | 中 |
| E-004b | 企业类型筛选 | 下拉选择筛选特定类型的企业 | 中 |
| E-004c | 人员规模筛选 | 下拉选择筛选特定规模的企业 | 中 |
| E-004d | 企业来源筛选 | 下拉选择筛选特定来源的企业 | 中 |
| E-004e | 对接人筛选 | 下拉选择筛选特定对接人的企业 | 中 |
| E-004f | 跨境电商筛选 | 筛选是否开展跨境电商的企业 | 中 |
| E-004g | 转型意愿筛选 | 筛选特定跨境转型意愿的企业 | 中 |
| E-004h | 跨境平台筛选 | 筛选使用特定跨境平台的企业 | 中 |
| E-005 | 导入功能 | 支持批量导入企业数据（Excel格式） | 中 |
| E-006 | 导出功能 | 支持导出企业列表数据（Excel格式） | 中 |
| E-006a | 下载导入模板 | 下载批量导入的Excel模板 | 中 |
| E-007 | 新增企业 | 弹窗表单新增企业信息 | 高 |
| E-008 | 查看详情 | 点击跳转至企业详情页 | 高 |
| E-009 | 编辑企业 | 编辑企业基本信息 | 高 |
| E-009a | 删除企业 | 软删除企业记录 | 中 |
| E-010 | 分页显示 | 支持分页，每页默认10条，可调整 | 中 |

##### 列表字段
| 字段名 | 说明 | 是否必显示 |
|--------|------|------------|
| 企业名称 | 主标题，副标题显示联系电话 | 是 |
| 区域 | 所属区域 | 是 |
| 行业 | 所属行业 | 是 |
| 类型 | 企业类型（生产型/贸易型/工贸一体） | 是 |
| 漏斗阶段 | 彩色标签显示 | 是 |
| 对接人 | 负责跟进的人员 | 是 |
| 操作 | 查看、编辑按钮 | 是 |

##### 新增企业表单字段
| 字段名 | 类型 | 是否必填 | 说明 |
|--------|------|----------|------|
| 企业名称 | 文本 | 是 | - |
| 统一社会信用代码 | 文本 | 否 | 18位信用代码 |
| 所属区域 | 下拉选择 | 是 | 武进区/新北区/天宁区/钟楼区/经开区/金坛区/溧阳市 |
| 企业类型 | 下拉选择 | 是 | 生产型/贸易型/工贸一体 |
| 所属行业 | 下拉选择 | 是 | 园艺制品/电动工具/汽车零部件/家居建材/机械设备/纺织服装/电子产品/其他 |
| 联系人姓名 | 文本 | 是 | - |
| 联系电话 | 文本 | 是 | - |
| 对接人 | 下拉选择 | 否 | 系统用户列表 |
| 企业来源 | 下拉选择 | 否 | 调研/转介绍/主动咨询/活动 |
| 详细地址 | 文本 | 否 | - |

##### 对应API
- `GET /api/enterprises` - 企业列表（含筛选、分页）
- `POST /api/enterprises` - 新增企业
- `PUT /api/enterprises/:id` - 编辑企业
- `DELETE /api/enterprises/:id` - 删除企业
- `POST /api/enterprises/import` - 批量导入
- `GET /api/enterprises/export` - 导出企业
- `GET /api/enterprises/template` - 下载导入模板

---

#### 2.2.2 企业详情页

##### 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| ED-001 | 企业头部信息 | 展示企业名称、标签（区域/行业/类型）、漏斗阶段 | 高 |
| ED-002 | 漏斗阶段变更 | 点击阶段标签可弹窗变更阶段 | 高 |
| ED-003 | 快速信息栏 | 显示主要联系人、对接人、录入时间 | 高 |
| ED-004 | 多标签页切换 | 支持多个信息维度的标签页切换 | 高 |
| ED-005 | 返回列表 | 返回企业列表页 | 高 |
| ED-006 | 编辑企业 | 编辑企业信息 | 高 |
| ED-007 | 联系人管理 | 批量管理企业联系人（新增/编辑/删除） | 高 |
| ED-008 | 产品管理 | 管理企业产品信息（新增/编辑/删除） | 中 |
| ED-009 | 专利管理 | 管理企业专利信息（新增/编辑/删除） | 中 |

##### 对应API
- `GET /api/enterprises/:id` - 企业详情
- `PUT /api/enterprises/:id` - 编辑企业
- `PATCH /api/enterprises/:id/stage` - 变更漏斗阶段
- `PUT /api/enterprises/:id/contacts` - 更新联系人
- `POST /api/enterprises/:enterpriseId/products` - 添加产品
- `PUT /api/enterprises/:enterpriseId/products/:productId` - 更新产品
- `DELETE /api/enterprises/:enterpriseId/products/:productId` - 删除产品
- `POST/PUT/DELETE /api/enterprises/:enterpriseId/patents` - 专利管理

##### 标签页内容

**1. 基本信息标签页**
| 信息分组 | 字段 |
|----------|------|
| 企业信息 | 企业名称、统一社会信用代码、所属区域、所属行业、企业类型、人员规模、详细地址 |
| 联系人信息 | 联系人列表（姓名、电话、职位、是否主要联系人） |
| 业务信息 | 国内营收、跨境营收、企业来源、对接人、官网、线上平台 |

**2. 产品信息标签页**
| 信息分组 | 字段 |
|----------|------|
| 产品列表 | 产品名称、应用领域、认证标签（CE/SGS等）、主要销售市场(国内)、主要销售市场(海外)、年销售额 |
| 供应链与产能 | 原材料本地采购比例、设备自动化程度、年产能、库存管理模式、物流合作方 |
| 自主品牌 | 是否有自主品牌、品牌名称列表 |
| 核心技术/专利 | 专利名称、专利号、专利类型（发明专利/实用新型） |

**3. 外贸信息标签页**
| 字段 | 说明 |
|------|------|
| 主要销售市场 | 如：欧美、东南亚 |
| 外贸模式 | 如：0110 |
| 是否有进出口资质 | 是/否 |
| 报关申报主体模式 | 自营/代理 |
| 外贸业务团队模式 | 自建/外包 |
| 外贸团队人数 | 数字 |
| 外贸数据(万元) | 外贸金额 |
| 是否有国内电商经验 | 是/否 |

**4. 跨境电商标签页**
| 信息分组 | 字段 |
|----------|------|
| 主要跨境平台 | 平台卡片展示（亚马逊/阿里国际站/TikTok Shop/独立站/SHEIN等） |
| 跨境基本信息 | 是否开展跨境电商、跨境业务占比、跨境物流模式、支付结算方式、跨境电商团队规模、是否在用ERP、跨境转型意愿、愿意投入转型程度 |
| 目标市场及占比 | 北美市场（占比%、主要国家）、欧洲市场、东南亚市场、其他市场 |
| 跨境需求和痛点 | 转型跨境意愿、代运营需求、流量营销需求、跨境培训需求、品牌孵化需求、跨境人才需求、共享办公工位、签约入驻三中心、注册至三中心（每项含是/否及描述） |
| 跨境政策需求 | 政策标签列表（跨境电商出口退税/海外仓补贴/品牌出海扶持/跨境人才引进补贴等） |
| 三中心合作 | 与三中心合作主要需求列表、不考虑合作主要顾虑 |
| 跨境业务痛点 | 文本描述 |

**5. 三中心评估标签页**
| 信息分组 | 字段 |
|----------|------|
| 合作可能性评估 | 企业服务合作可能性（星级+说明）、招商入驻合作可能性、孵化转型合作可能性、品牌营销合作可能性、人才培训合作可能性、跨境整体方案合作可能性 |
| 初步评估 | 调研日期、调研人员、跨境转型意愿（进度条）、投入转型程度（进度条） |
| 标杆企业评估 | 成为三中心重点孵化标杆企业的可能（百分比+进度条+标签） |
| 其它补充说明 | 文本描述及建议列表 |

**6. 政策与资源需求标签页**
| 信息分组 | 字段 |
|----------|------|
| 政策支持情况 | 是否享受过政策支持、已享受政策列表 |
| 希望获得的支持 | 专业培训支持、平台资源对接、政策补贴申请（每项含图标+描述） |
| 合作需求 | 代运营服务、流量营销、品牌孵化、人才招聘、跨境培训、共享办公（勾选+描述） |

**7. 竞争力与风险标签页**
| 信息分组 | 字段 |
|----------|------|
| 行业竞争地位 | 头部企业/中型企业/初创企业（选择展示）、文字描述 |
| 主要竞争对手 | 竞争对手列表（企业名称、规模、年营收、竞争程度标签） |
| 当前面临风险 | 风险列表（风险名称、风险描述、严重程度颜色标识） |

**8. 跟进记录标签页**
| 需求 | 说明 |
|------|------|
| 跟进记录列表 | 表格展示该企业的所有跟进记录 |
| 添加跟进 | 快捷添加跟进记录按钮 |
| 记录字段 | 日期、类型、跟进内容、跟进人、阶段变化 |

---

### 2.3 漏斗分析

#### 2.3.1 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| F-001 | 转化漏斗图 | 可视化漏斗图展示各阶段企业数量 | 高 |
| F-002 | 阶段转化率 | 展示相邻阶段之间的转化率 | 高 |
| F-003 | 关键指标 | 展示整体转化率、签约转化率、入驻转化率 | 高 |
| F-004 | 趋势分析图 | 折线图展示各阶段企业数量随时间变化趋势 | 中 |
| F-005 | 转化明细表 | 表格展示各转化路径的数量和转化率 | 中 |
| F-006 | 时间范围筛选 | 支持按时间范围筛选趋势数据 | 中 |

#### 2.3.2 对应API
- `GET /api/funnel/data` - 漏斗各阶段数据
- `GET /api/funnel/conversion` - 转化率数据
- `GET /api/funnel/trend` - 趋势数据（支持时间范围参数）

#### 2.3.3 漏斗阶段定义

| 阶段编码 | 阶段名称 | 颜色 | 说明 |
|----------|----------|------|------|
| POTENTIAL | 潜在企业 | 灰色 #94a3b8 | 初始录入的企业 |
| NO_DEMAND | 无明确需求 | 黄色 #fbbf24 | 暂无跨境电商需求 |
| NO_INTENTION | 没有合作意向 | 红色 #ef4444 | 明确表示不合作 |
| HAS_DEMAND | 有明确需求 | 蓝色 #3b82f6 | 有跨境转型需求 |
| SIGNED | 已签约 | 紫色 #8b5cf6 | 已签署合作协议 |
| SETTLED | 已入驻 | 绿色 #10b981 | 已入驻三中心 |
| INCUBATING | 重点孵化 | 橙色 #f97316 | 纳入重点孵化计划 |

#### 2.3.4 转化路径定义
| 转化路径 | 说明 |
|----------|------|
| 潜在企业 → 有明确需求 | 发现跨境需求 |
| 潜在企业 → 无明确需求 | 暂无需求 |
| 无明确需求 → 有明确需求 | 需求转化 |
| 无明确需求 → 没有合作意向 | 流失 |
| 有明确需求 → 已签约 | 签约转化 |
| 已签约 → 已入驻 | 入驻转化 |
| 已入驻 → 重点孵化 | 孵化升级 |

---

### 2.4 跟进记录

#### 2.4.1 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| FR-001 | 跟进统计 | 显示本月跟进、本周跟进、今日跟进、待跟进企业数量 | 高 |
| FR-002 | 跟进列表 | 表格展示所有跟进记录 | 高 |
| FR-003 | 搜索功能 | 支持按企业名称或跟进内容搜索 | 高 |
| FR-004 | 类型筛选 | 按跟进类型筛选（电话/视频/拜访/会议） | 中 |
| FR-005 | 新增跟进 | 弹窗表单新增跟进记录 | 高 |
| FR-006 | 分页显示 | 支持分页 | 中 |
| FR-007 | 编辑跟进 | 编辑已有跟进记录 | 中 |
| FR-008 | 删除跟进 | 删除跟进记录 | 中 |
| FR-009 | 阶段变更联动 | 新增跟进时可同时变更企业阶段 | 高 |

#### 2.4.2 对应API
- `GET /api/follow-ups` - 跟进记录列表（含筛选、分页）
- `POST /api/follow-ups` - 新增跟进记录
- `PUT /api/follow-ups/:id` - 编辑跟进记录
- `DELETE /api/follow-ups/:id` - 删除跟进记录
- `GET /api/follow-ups/stats` - 跟进统计数据
- `GET /api/enterprises/:id/follow-ups` - 获取企业跟进记录

#### 2.4.3 跟进记录字段

| 字段名 | 类型 | 是否必填 | 说明 |
|--------|------|----------|------|
| 企业 | 下拉选择 | 是 | 选择要跟进的企业 |
| 跟进类型 | 下拉选择 | 是 | 电话/视频/拜访/会议 |
| 跟进日期 | 日期选择 | 是 | - |
| 跟进内容 | 多行文本 | 是 | - |
| 整体状态 | 文本 | 否 | 如：积极配合、观望中 |
| 变更阶段 | 下拉选择 | 否 | 可选择变更后的漏斗阶段 |
| 下一步计划 | 文本 | 否 | - |
| 合作服务商 | 文本 | 否 | 签约后填写 |

#### 2.4.4 列表显示字段
| 字段名 | 说明 |
|--------|------|
| 企业名称 | - |
| 跟进类型 | 带图标的标签 |
| 跟进内容 | 可展开/收缩 |
| 跟进日期 | - |
| 跟进人 | - |
| 阶段变化 | 显示变更前后的阶段标签 |

---

### 2.5 数据字典管理（新增）

#### 2.5.1 功能描述
管理员功能，用于维护系统中的各类下拉选项数据。

#### 2.5.2 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| DD-001 | 分类列表 | 展示所有字典分类及各分类下选项数量 | 高 |
| DD-002 | 选项列表 | 展示指定分类下的所有选项 | 高 |
| DD-003 | 新增选项 | 在指定分类下新增选项 | 高 |
| DD-004 | 编辑选项 | 编辑选项的标签、颜色、排序 | 高 |
| DD-005 | 删除/禁用选项 | 删除未被引用的选项，已引用的仅可禁用 | 中 |

#### 2.5.3 字典分类说明

| 分类代码 | 分类名称 | 使用位置 |
|----------|----------|----------|
| stage | 漏斗阶段 | 企业主表.stage |
| district | 区域 | 企业主表.district |
| staff_size | 人员规模 | 企业主表.staff_size_id |
| revenue | 营收规模 | 企业主表.domestic_revenue_id, cross_border_revenue_id |
| source | 企业来源 | 企业主表.source_id |
| enterprise_type | 企业类型 | 企业主表.enterprise_type |
| trade_mode | 外贸模式 | 企业主表.trade_mode_id |
| trade_team_mode | 外贸业务团队模式 | 企业主表.trade_team_mode_id |
| cross_border_platform | 跨境平台 | 企业主表.cross_border_platforms |
| cross_border_logistics | 跨境物流模式 | 企业主表.cross_border_logistics |
| payment_settlement | 支付结算方式 | 企业主表.payment_settlement |
| region | 销售区域 | 企业产品.target_region_ids |
| certification | 产品认证 | 企业产品.certification_ids |
| automation_level | 自动化程度 | 企业产品.automation_level_id |
| logistics | 物流合作方 | 企业产品.logistics_partner_ids |
| follow_type | 跟进类型 | 跟进记录.follow_type |
| growth_reason | 增长原因 | 企业主表.growth_reasons |
| decline_reason | 下降原因 | 企业主表.decline_reasons |

#### 2.5.4 对应API
- `GET /api/options/:category` - 获取指定分类的选项列表
- `GET /api/options/industries` - 获取行业分类树
- `GET /api/options/product-categories` - 获取产品品类树
- `GET /api/options/users` - 获取用户列表（对接人）
- `GET /api/dictionary/categories` - 获取字典分类列表
- `POST /api/dictionary/:category` - 新增字典选项
- `PUT /api/dictionary/:category/:id` - 更新字典选项
- `DELETE /api/dictionary/:category/:id` - 删除字典选项

---

### 2.6 企业产品管理（新增）

#### 2.6.1 功能描述
管理企业的产品信息、品牌信息和专利信息。

#### 2.6.2 功能需求

| 需求编号 | 需求名称 | 需求描述 | 优先级 |
|----------|----------|----------|--------|
| EP-001 | 产品列表 | 在企业详情页展示产品列表 | 高 |
| EP-002 | 添加产品 | 为企业添加产品信息 | 高 |
| EP-003 | 编辑产品 | 编辑产品信息 | 高 |
| EP-004 | 删除产品 | 删除产品 | 中 |
| EP-005 | 专利管理 | 管理企业专利信息 | 中 |

#### 2.6.3 产品信息字段

| 字段名 | 类型 | 是否必填 | 说明 |
|--------|------|----------|------|
| 产品名称 | 文本 | 是 | - |
| 产品品类 | 级联选择 | 是 | 最多3级 |
| 产品认证 | 多选 | 否 | CE/SGS/FDA等 |
| 目标销售区域 | 多选 | 否 | 国内/海外区域 |
| 目标销售国家 | 多选 | 否 | 具体国家 |
| 年销售额 | 文本 | 否 | - |
| 原材料本地采购比例 | 文本 | 否 | - |
| 设备自动化程度 | 下拉选择 | 否 | - |
| 年产能 | 文本 | 否 | - |
| 物流合作方 | 多选 | 否 | - |

#### 2.6.4 对应API
- `POST /api/enterprises/:enterpriseId/products` - 添加产品
- `PUT /api/enterprises/:enterpriseId/products/:productId` - 更新产品
- `DELETE /api/enterprises/:enterpriseId/products/:productId` - 删除产品
- `POST/PUT/DELETE /api/enterprises/:enterpriseId/patents` - 专利管理

---

## 3. 数据字典

### 3.1 区域列表
- 武进区
- 新北区
- 天宁区
- 钟楼区
- 经开区
- 金坛区
- 溧阳市

### 3.2 行业列表
- 园艺制品
- 电动工具
- 汽车零部件
- 家居建材
- 机械设备
- 纺织服装
- 电子产品
- 其他

### 3.3 企业类型
- 生产型
- 贸易型
- 工贸一体

### 3.4 企业来源
- 调研
- 转介绍
- 主动咨询
- 活动

### 3.5 跟进类型
- 电话
- 视频
- 拜访
- 会议

### 3.6 人员规模
- 10人以下
- 10-50人
- 50-200人
- 200-500人
- 500-1000人
- 1000人以上

### 3.7 营收规模（万元）
- 200以下
- 200-500
- 500-1000
- 1000-5000
- 5000以上

### 3.8 转型意愿
- 强烈
- 有
- 可以考虑
- 无

### 3.9 跨境平台（新增）
- 亚马逊
- 阿里国际站
- TikTok Shop
- 独立站
- SHEIN
- Temu
- 速卖通
- eBay
- Wish

### 3.10 产品认证（新增）
- CE
- SGS
- FDA
- UL
- FCC
- RoHS
- ISO9001
- ISO14001

### 3.11 外贸模式（新增）
- 0110 一般贸易
- 9610 跨境电商B2C
- 9710 跨境电商B2B
- 9810 海外仓出口
- 1210 保税进口

### 3.12 跨境物流模式（新增）
- 海外仓
- 直邮
- FBA
- 第三方物流

### 3.13 支付结算方式（新增）
- 信用证
- 电汇
- PayPal
- 第三方支付平台

---

## 4. 非功能需求

### 4.1 性能要求
| 需求 | 指标 |
|------|------|
| 页面加载时间 | ≤ 2秒 |
| 列表查询响应 | ≤ 1秒 |
| 表单提交响应 | ≤ 1秒 |
| 并发用户数 | ≥ 50 |

### 4.2 兼容性要求
- 浏览器：Chrome 80+、Edge 80+、Firefox 75+、Safari 13+
- 分辨率：最低支持 1366×768，推荐 1920×1080

### 4.3 安全要求
- 用户登录认证（JWT Token）
- 基于角色的权限控制
- 敏感操作日志记录
- HTTPS 传输加密

---

## 5. 界面设计规范

### 5.1 布局结构
- 左侧固定导航栏（可收缩）
- 顶部头部栏（用户信息、通知）
- 右侧内容区域

### 5.2 导航菜单
1. 概览看板
2. 企业管理
3. 漏斗分析
4. 跟进记录

### 5.3 色彩规范
| 用途 | 色值 |
|------|------|
| 主色 | #1890ff |
| 成功 | #52c41a |
| 警告 | #faad14 |
| 错误 | #ff4d4f |
| 侧边栏背景 | 渐变 #1e3a5f → #1e3a8a |

### 5.4 交互规范
- 表单必填项标注红色星号
- 操作成功/失败显示提示消息
- 删除等危险操作需二次确认
- 列表支持空状态提示

---

## 6. 附录

### 6.1 页面清单
| 页面 | 路由 | 说明 |
|------|------|------|
| 登录页面 | /login | 用户登录认证 |
| 概览看板 | /dashboard | 系统首页 |
| 企业列表 | /enterprise | 企业管理列表 |
| 企业详情 | /enterprise/:id | 企业详细信息 |
| 漏斗分析 | /funnel | 转化漏斗分析 |
| 跟进记录 | /follow-up | 跟进记录管理 |
| 数据字典 | /dictionary | 数据字典管理（管理员） |

### 6.2 API模块清单

| 模块 | API数量 | 说明 |
|------|---------|------|
| 用户认证 | 4 | 登录、权限基础 |
| 基础数据/数据字典 | 8 | 下拉选项、行业分类、产品品类 |
| 企业管理 | 12 | 核心业务模块 |
| 企业产品管理 | 4 | 产品、品牌、专利 |
| 跟进记录 | 5 | 跟进管理 |
| 看板统计 | 5 | 首页数据展示 |
| 漏斗分析 | 3 | 漏斗转化分析 |

**总计: 41个API**

> 详细API设计请参考：`doc/后端API模块设计.md`

### 6.3 版本历史
| 版本 | 日期 | 作者 | 说明 |
|------|------|------|------|
| v1.0 | 2026-01-27 | - | 初始版本，基于原型整理 |
| v2.0 | 2026-02-03 | - | 基于后端API模块设计文档同步更新，新增用户认证、数据字典管理、企业产品管理模块，补充高级筛选功能、漏斗转化路径定义、API对应关系 |
| v2.1 | 2026-02-03 | - | 补充登录页面界面设计和认证流程说明 |
| v2.2 | 2026-02-03 | - | 新增API测试要求章节 |

---

## 7. API测试要求

### 7.1 测试文档规范

每个后端API开发完成后必须进行功能测试，测试记录在 `doc/API测试记录.md`。

每个API的测试记录必须包含以下内容：

| 项目 | 说明 |
|------|------|
| 认证要求 | 标明是公开(🔓)、需认证(🔒)还是需管理员(🔐) |
| 前置条件 | 说明需要先调用哪些API（如登录获取Token） |
| 前置API调用步骤 | 详细列出每一步的入参和出参，便于定位失败环节 |
| 请求格式 | 完整的请求路径、Header、Body格式 |
| 响应格式 | 预期的响应JSON结构 |
| 测试用例表 | 包含：测试场景、前置条件、请求入参、预期响应、实际结果、状态 |

### 7.2 边际测试覆盖

每个API必须测试以下边际情况（根据API特性选择适用项）：

| 边际情况 | 说明 | 预期行为 |
|----------|------|----------|
| 空值 | 空字符串、null | 返回400参数校验失败 |
| 超长值 | 超过字段长度限制 | 返回400参数校验失败 |
| 特殊字符 | `<script>`、HTML标签等 | 安全处理，不执行 |
| SQL注入 | `' OR '1'='1` 等 | 返回401或安全处理 |
| 负数和零值 | 数值字段传入负数或0 | 根据业务逻辑处理 |
| 不存在的ID | 如99999 | 返回404资源不存在 |
| 无效的枚举值 | 不在枚举范围内的值 | 返回400参数校验失败 |
| 无Token访问 | 需认证API不带Token | 返回401/403 |
| 无效/过期Token | Token格式错误或已过期 | 返回401 |
| 权限不足 | 普通用户访问管理员API | 返回403 |
| 重复数据 | 唯一字段重复提交 | 返回400已存在 |
| 关联数据 | 删除被引用的数据 | 返回400不可删除 |

### 7.3 测试流程

```
1. API开发完成
      ↓
2. 运行测试脚本 (backend/test-api.ps1)
      ↓
3. 更新测试文档 (doc/API测试记录.md)
   - 记录每个测试用例的实际结果
   - 标记通过(✅)或失败(❌)状态
      ↓
4. 失败的测试记录到"问题记录"表
   - 记录问题描述、严重程度
      ↓
5. 修复问题
      ↓
6. 重新测试并更新状态
```

### 7.4 测试工具

| 工具 | 用途 |
|------|------|
| `backend/test-api.ps1` | PowerShell自动化测试脚本 |
| Knife4j (http://localhost:8080/doc.html) | API文档和在线测试 |
| Postman | 手动API测试 |
| curl | 命令行测试 |

### 7.5 测试报告要求

测试完成后，测试文档需包含汇总表：

| 模块 | API数 | 测试用例数 | 通过 | 失败 | 待测 | 通过率 |
|------|-------|------------|------|------|------|--------|
| 用户认证 | 4 | xx | xx | xx | xx | xx% |
| ... | ... | ... | ... | ... | ... | ... |
