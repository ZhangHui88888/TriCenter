# API测试文档

> 按模块组织的API测试记录

## 文档结构

| 文件 | 模块 | API数量 | 状态 |
|------|------|---------|------|
| [模块1-用户认证.md](模块1-用户认证.md) | 用户认证 | 4 | ✅ 已测试 |
| [模块2-基础数据.md](模块2-基础数据.md) | 基础数据/数据字典 | 8 | ✅ 已测试 |
| [模块3-企业管理.md](模块3-企业管理.md) | 企业管理 | 12 | ⏳ 待开发 |
| [模块4-企业产品.md](模块4-企业产品.md) | 企业产品管理 | 4 | ⏳ 待开发 |
| [模块5-跟进记录.md](模块5-跟进记录.md) | 跟进记录 | 5 | ⏳ 待开发 |
| [模块6-看板统计.md](模块6-看板统计.md) | 看板统计 | 5 | ⏳ 待开发 |
| [模块7-漏斗分析.md](模块7-漏斗分析.md) | 漏斗分析 | 3 | ⏳ 待开发 |

## 测试环境

| 项 | 值 |
|-----|-----|
| 后端地址 | http://localhost:8080 |
| API文档 | http://localhost:8080/doc.html |
| 测试脚本 | `backend/test-api.ps1` |
| 测试账号 | admin / admin123 |

## 测试状态说明

| 状态 | 说明 |
|------|------|
| ✅ 通过 | 测试通过 |
| ❌ 失败 | 测试失败，需修复 |
| ⏳ 待测 | 尚未测试 |
| 🔄 重测 | 修复后需重新测试 |

## 认证要求说明

| 类型 | 说明 |
|------|------|
| 🔓 公开 | 无需Token |
| 🔒 需认证 | 需要有效Token |
| 🔐 需管理员 | 需要admin角色Token |

## 测试汇总

| 模块 | API数 | 测试用例数 | 通过 | 失败 | 通过率 |
|------|-------|------------|------|------|--------|
| 用户认证 | 4 | 11 | 9 | 0 | 82% |
| 基础数据/数据字典 | 8 | 18 | 18 | 0 | 100% |
| 企业管理 | 12 | - | - | - | - |
| 企业产品管理 | 4 | - | - | - | - |
| 跟进记录 | 5 | - | - | - | - |
| 看板统计 | 5 | - | - | - | - |
| 漏斗分析 | 3 | - | - | - | - |
| **总计** | **41** | **29** | **27** | **0** | **93%** |

## 问题记录

| 编号 | 模块 | API | 问题描述 | 严重程度 | 状态 | 修复日期 |
|------|------|-----|----------|----------|------|----------|
| 1 | 用户认证 | POST /api/auth/login | 登录失败时HTTP状态码返回200而非401 | 高 | ✅已修复 | 2026-02-03 |

---

*最后更新：2026-02-03*
