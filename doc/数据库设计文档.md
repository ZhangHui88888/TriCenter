# 数据库设计文档

> 常州跨境电商三中心 - 企业信息管理系统

---

## 数据库选型

- **推荐**: MySQL 8.0+ 或 PostgreSQL 14+
- **字符集**: UTF-8 (utf8mb4)
- **排序规则**: utf8mb4_unicode_ci

---

## 表结构概览

| 序号 | 表名 | 说明 | 状态 |
|------|------|------|------|
| 1 | users | 用户表 | ⬜ 待创建 |
| 2 | industry_categories | 行业分类表 | ⬜ 待创建 |
| 3 | enterprises | 企业主表 | ⬜ 待创建 |
| 4 | enterprise_contacts | 企业联系人 | ⬜ 待创建 |
| 5 | enterprise_products | 企业产品 | ⬜ 待创建 |
| 6 | enterprise_patents | 专利信息 | ⬜ 待创建 |
| 7 | follow_up_records | 跟进记录 | ⬜ 待创建 |
| 8 | stage_change_logs | 阶段变更日志 | ⬜ 待创建 |
| 9 | system_options | 系统选项配置 | ⬜ 待创建 |

> **注**: 竞争对手(enterprise_competitors)和风险信息(enterprise_risks)表暂不开发，前端使用Mock数据

---

## 表1: users (用户表)

```sql
CREATE TABLE users (
    id              INT PRIMARY KEY AUTO_INCREMENT,
    username        VARCHAR(50) NOT NULL UNIQUE COMMENT '用户名',
    password        VARCHAR(255) NOT NULL COMMENT '密码(加密)',
    name            VARCHAR(50) NOT NULL COMMENT '姓名',
    role            ENUM('admin', 'manager', 'user') DEFAULT 'user' COMMENT '角色',
    phone           VARCHAR(20) COMMENT '手机号',
    email           VARCHAR(100) COMMENT '邮箱',
    status          TINYINT DEFAULT 1 COMMENT '状态: 1启用 0禁用',
    last_login_at   DATETIME COMMENT '最后登录时间',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_username (username),
    INDEX idx_role (role)
) COMMENT='用户表';
```

---

## 表2: industry_categories (行业分类表)

```sql
CREATE TABLE industry_categories (
    id          INT PRIMARY KEY AUTO_INCREMENT,
    parent_id   INT DEFAULT 0 COMMENT '父级ID，0为顶级',
    name        VARCHAR(50) NOT NULL COMMENT '分类名称',
    level       TINYINT NOT NULL COMMENT '层级：1/2/3',
    path        VARCHAR(100) COMMENT '完整路径，如：1/5/12',
    sort_order  INT DEFAULT 0 COMMENT '排序',
    is_enabled  TINYINT DEFAULT 1 COMMENT '是否启用',
    created_at  DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_parent (parent_id),
    INDEX idx_path (path),
    INDEX idx_level (level)
) COMMENT='行业分类表';
```

---

## 表3: enterprises (企业主表)

```sql
CREATE TABLE enterprises (
    id                      INT PRIMARY KEY AUTO_INCREMENT,
    name                    VARCHAR(200) NOT NULL COMMENT '企业名称',
    credit_code             VARCHAR(18) COMMENT '统一社会信用代码',
    province                VARCHAR(20) DEFAULT '江苏省' COMMENT '省',
    city                    VARCHAR(20) DEFAULT '常州市' COMMENT '市',
    district                VARCHAR(20) NOT NULL COMMENT '区(所属区域)',
    address                 VARCHAR(500) COMMENT '详细地址',
    industry_id             INT COMMENT '行业分类ID(关联industry_categories表)',
    enterprise_type         VARCHAR(20) NOT NULL COMMENT '企业类型: 生产型/贸易型/工贸一体',
    staff_size_id           INT COMMENT '人员规模ID(关联system_options表,category=staff_size)',
    website                 VARCHAR(200) COMMENT '官网',
    domestic_revenue_id     INT COMMENT '国内营收ID(关联system_options表,category=revenue)',
    cross_border_revenue_id INT COMMENT '跨境营收ID(关联system_options表,category=revenue)',
    source_id               INT COMMENT '企业来源ID(关联system_options表,category=source)',
    
    -- 漏斗阶段
    stage                   VARCHAR(20) DEFAULT 'POTENTIAL' COMMENT '漏斗阶段',
    
    -- 外贸信息
    target_region_ids       JSON COMMENT '主要销售区域ID数组(关联system_options表,category=region)',
    target_country_ids      JSON COMMENT '主要销售国家ID数组(关联system_options表,category=country)',
    trade_mode_id           INT COMMENT '外贸模式ID(关联system_options表,category=trade_mode)',
    has_import_export_license TINYINT DEFAULT 0 COMMENT '是否有进出口资质',
    customs_declaration_mode VARCHAR(20) COMMENT '报关申报主体模式',
    trade_team_mode_id      INT COMMENT '外贸业务团队模式ID(关联system_options表,category=trade_team_mode)',
    trade_team_size         INT COMMENT '外贸团队人数',
    has_domestic_ecommerce  TINYINT DEFAULT 0 COMMENT '是否有国内电商经验',
    
    -- 外贸业绩分析（年份动态，前端根据当年计算显示）
    last_year_revenue       DECIMAL(12,2) COMMENT '上年外贸营业额(万元)',
    year_before_last_revenue DECIMAL(12,2) COMMENT '上上年外贸营业额(万元)',
    market_changes          JSON COMMENT '市场变化: {up:[{type,id,rate}], down:[{type,id,rate}]} type=region/country,id关联对应数据字典',
    mode_changes            JSON COMMENT '模式变化: {up:[{name,rate}], down:[{name,rate}]}',
    category_changes        JSON COMMENT '品类变化: {up:[{name,rate}], down:[{name,rate}]}',
    growth_reasons          JSON COMMENT '增长原因数组',
    decline_reasons         JSON COMMENT '下降原因数组',
    
    -- 跨境电商信息
    has_cross_border        TINYINT DEFAULT 0 COMMENT '是否开展跨境电商',
    cross_border_ratio      VARCHAR(20) COMMENT '跨境业务占比',
    cross_border_logistics  VARCHAR(100) COMMENT '跨境物流模式',
    payment_settlement      VARCHAR(100) COMMENT '支付结算方式',
    cross_border_team_size  INT COMMENT '跨境电商团队规模',
    using_erp               TINYINT DEFAULT 0 COMMENT '是否在用ERP',
    transformation_willingness VARCHAR(20) COMMENT '跨境转型意愿',
    investment_willingness  VARCHAR(20) COMMENT '愿意投入转型程度',
    
    -- 跨境平台 (JSON存储)
    cross_border_platforms  JSON COMMENT '跨境平台列表',
    target_markets          JSON COMMENT '目标市场及占比',
    cross_border_demands    JSON COMMENT '跨境需求和痛点',
    policy_demands          JSON COMMENT '跨境政策需求',
    
    -- 品牌信息
    has_own_brand           TINYINT DEFAULT 0 COMMENT '是否有自主品牌',
    brand_names             VARCHAR(500) COMMENT '品牌名称列表',
    
    -- 三中心评估
    service_cooperation_rating      TINYINT COMMENT '企业服务合作可能性(1-5星)',
    investment_cooperation_rating   TINYINT COMMENT '招商入驻合作可能性(1-5星)',
    incubation_cooperation_rating   TINYINT COMMENT '孵化转型合作可能性(1-5星)',
    brand_cooperation_rating        TINYINT COMMENT '品牌营销合作可能性(1-5星)',
    training_cooperation_rating     TINYINT COMMENT '人才培训合作可能性(1-5星)',
    overall_cooperation_rating      TINYINT COMMENT '跨境整体方案合作可能性(1-5星)',
    benchmark_possibility           INT COMMENT '标杆企业可能性百分比',
    survey_date                     DATE COMMENT '调研日期',
    surveyor                        VARCHAR(50) COMMENT '调研人员',
    additional_notes                TEXT COMMENT '其它补充说明',
    
    -- 政策支持
    has_policy_support      TINYINT DEFAULT 0 COMMENT '是否享受过政策支持',
    enjoyed_policies        JSON COMMENT '已享受政策列表',
    desired_support         JSON COMMENT '希望获得的支持',
    cooperation_demands     JSON COMMENT '合作需求',
    
    -- 竞争力信息
    competition_position    VARCHAR(50) COMMENT '行业竞争地位',
    competition_description TEXT COMMENT '竞争地位描述',
    pain_points             TEXT COMMENT '跨境业务痛点',
    
    -- 三中心合作
    tricenter_demands       JSON COMMENT '与三中心合作主要需求',
    tricenter_concerns      TEXT COMMENT '不考虑合作主要顾虑',
    
    -- 系统字段
    is_deleted              TINYINT DEFAULT 0 COMMENT '是否删除',
    created_at              DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at              DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_name (name),
    INDEX idx_district (district),
    INDEX idx_industry (industry_id),
    INDEX idx_stage (stage),
    INDEX idx_source (source_id),
    INDEX idx_created (created_at),
    FOREIGN KEY (industry_id) REFERENCES industry_categories(id),
    FOREIGN KEY (source_id) REFERENCES system_options(id)
) COMMENT='企业主表';
```

---

## 表4: enterprise_contacts (企业联系人)

```sql
CREATE TABLE enterprise_contacts (
    id              INT PRIMARY KEY AUTO_INCREMENT,
    enterprise_id   INT NOT NULL COMMENT '企业ID',
    name            VARCHAR(50) NOT NULL COMMENT '联系人姓名',
    phone           VARCHAR(20) COMMENT '联系电话',
    position        VARCHAR(50) COMMENT '职位',
    is_primary      TINYINT DEFAULT 0 COMMENT '是否主要联系人',
    email           VARCHAR(100) COMMENT '邮箱',
    wechat          VARCHAR(50) COMMENT '微信',
    remark          VARCHAR(500) COMMENT '备注',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_enterprise (enterprise_id),
    FOREIGN KEY (enterprise_id) REFERENCES enterprises(id) ON DELETE CASCADE
) COMMENT='企业联系人表';
```

---

## 表5: enterprise_products (企业产品)

```sql
CREATE TABLE enterprise_products (
    id                  INT PRIMARY KEY AUTO_INCREMENT,
    enterprise_id       INT NOT NULL COMMENT '企业ID',
    name                VARCHAR(200) NOT NULL COMMENT '产品名称',
    application_field   VARCHAR(200) COMMENT '应用领域',
    certification_ids   JSON COMMENT '认证标签ID数组(关联system_options表,category=certification)',
    target_region_ids   JSON COMMENT '主要销售区域ID数组(关联system_options表,category=region)',
    target_country_ids  JSON COMMENT '主要销售国家ID数组(关联system_options表,category=country)',
    annual_sales        VARCHAR(50) COMMENT '年销售额',
    
    -- 供应链与产能
    local_procurement_ratio  VARCHAR(20) COMMENT '原材料本地采购比例',
    automation_level_id      INT COMMENT '装备自动化程度ID(关联system_options表,category=automation_level)',
    annual_capacity          VARCHAR(50) COMMENT '年产能',
    logistics_partner_ids    JSON COMMENT '物流合作方ID数组(关联system_options表,category=logistics)',
    
    created_at          DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at          DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_enterprise (enterprise_id),
    FOREIGN KEY (enterprise_id) REFERENCES enterprises(id) ON DELETE CASCADE
) COMMENT='企业产品表';
```

---

## 表6: enterprise_patents (专利信息)

```sql
CREATE TABLE enterprise_patents (
    id              INT PRIMARY KEY AUTO_INCREMENT,
    enterprise_id   INT NOT NULL COMMENT '企业ID',
    name            VARCHAR(200) NOT NULL COMMENT '专利名称',
    patent_no       VARCHAR(50) COMMENT '专利号',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_enterprise (enterprise_id),
    FOREIGN KEY (enterprise_id) REFERENCES enterprises(id) ON DELETE CASCADE
) COMMENT='企业专利表';
```

---

## 表7: follow_up_records (跟进记录)

```sql
CREATE TABLE follow_up_records (
    id              INT PRIMARY KEY AUTO_INCREMENT,
    enterprise_id   INT NOT NULL COMMENT '企业ID',
    follow_type     VARCHAR(20) NOT NULL COMMENT '跟进类型: 电话/视频/拜访/会议',
    follow_date     DATE NOT NULL COMMENT '跟进日期',
    content         TEXT NOT NULL COMMENT '跟进内容',
    status          VARCHAR(50) COMMENT '整体状态',
    next_plan       VARCHAR(500) COMMENT '下一步计划',
    stage_from      VARCHAR(20) COMMENT '变更前阶段',
    stage_to        VARCHAR(20) COMMENT '变更后阶段',
    follower_id     INT COMMENT '跟进人ID',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_enterprise (enterprise_id),
    INDEX idx_follower (follower_id),
    INDEX idx_date (follow_date),
    FOREIGN KEY (enterprise_id) REFERENCES enterprises(id) ON DELETE CASCADE,
    FOREIGN KEY (follower_id) REFERENCES users(id)
) COMMENT='跟进记录表';
```

---

## 表8: stage_change_logs (阶段变更日志)

```sql
CREATE TABLE stage_change_logs (
    id              INT PRIMARY KEY AUTO_INCREMENT,
    enterprise_id   INT NOT NULL COMMENT '企业ID',
    stage_from      VARCHAR(20) NOT NULL COMMENT '变更前阶段',
    stage_to        VARCHAR(20) NOT NULL COMMENT '变更后阶段',
    reason          VARCHAR(500) COMMENT '变更原因',
    operator_id     INT COMMENT '操作人ID',
    follow_up_id    INT COMMENT '关联跟进记录ID',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_enterprise (enterprise_id),
    INDEX idx_created (created_at),
    FOREIGN KEY (enterprise_id) REFERENCES enterprises(id) ON DELETE CASCADE,
    FOREIGN KEY (operator_id) REFERENCES users(id),
    FOREIGN KEY (follow_up_id) REFERENCES follow_up_records(id)
) COMMENT='阶段变更日志表';
```

---

## 表9: system_options (系统选项配置)

```sql
CREATE TABLE system_options (
    id          INT PRIMARY KEY AUTO_INCREMENT,
    category    VARCHAR(50) NOT NULL COMMENT '分类: region/industry/stage/source等',
    value       VARCHAR(50) NOT NULL COMMENT '选项值',
    label       VARCHAR(100) NOT NULL COMMENT '显示名称',
    color       VARCHAR(20) COMMENT '颜色(用于标签)',
    sort_order  INT DEFAULT 0 COMMENT '排序',
    is_enabled  TINYINT DEFAULT 1 COMMENT '是否启用',
    created_at  DATETIME DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY uk_category_value (category, value),
    INDEX idx_category (category)
) COMMENT='系统选项配置表';
```

### 数据字典分类说明

| category | 说明 | 使用位置 |
|----------|------|----------|
| stage | 漏斗阶段 | 企业主表.stage |
| district | 区域 | 企业主表.district |
| staff_size | 人员规模 | 企业主表.staff_size_id |
| revenue | 营收规模 | 企业主表.domestic_revenue_id, cross_border_revenue_id |
| source | 企业来源 | 企业主表.source_id |
| trade_mode | 外贸模式 | 企业主表.trade_mode_id |
| trade_team_mode | 外贸业务团队模式 | 企业主表.trade_team_mode_id |
| country | 销售目标国 | 企业主表.target_country_ids, 企业产品.target_country_ids |
| region | 销售区域 | 企业产品.target_region_ids |
| enterprise_type | 企业类型 | 企业主表.enterprise_type |
| certification | 产品认证 | 企业产品.certification_ids |
| automation_level | 自动化程度 | 企业产品.automation_level_id |
| logistics | 物流合作方 | 企业产品.logistics_partner_ids |
| follow_type | 跟进类型 | 跟进记录.follow_type |

> **数据字典管理模块**: 系统管理员可通过后台管理界面对以上分类的选项进行增删改查操作，支持启用/禁用、排序调整等功能。

---

## 初始化数据

### 漏斗阶段
```sql
INSERT INTO system_options (category, value, label, color, sort_order) VALUES
('stage', 'POTENTIAL', '潜在企业', '#94a3b8', 1),
('stage', 'NO_DEMAND', '无明确需求', '#fbbf24', 2),
('stage', 'NO_INTENTION', '没有合作意向', '#ef4444', 3),
('stage', 'HAS_DEMAND', '有明确需求', '#3b82f6', 4),
('stage', 'SIGNED', '已签约', '#8b5cf6', 5),
('stage', 'SETTLED', '已入驻', '#10b981', 6),
('stage', 'INCUBATING', '重点孵化', '#f97316', 7);
```

### 区（district）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('district', 'wujin', '武进区', 1),
('district', 'xinbei', '新北区', 2),
('district', 'tianning', '天宁区', 3),
('district', 'zhonglou', '钟楼区', 4),
('district', 'jingkai', '经开区', 5),
('district', 'jintan', '金坛区', 6),
('district', 'liyang', '溧阳市', 7);
```

### 行业分类（industry_categories）
```sql
-- 一级分类
INSERT INTO industry_categories (id, parent_id, name, level, path, sort_order) VALUES
(1, 0, '制造业', 1, '1', 1),
(2, 0, '贸易/零售', 1, '2', 2),
(3, 0, '服务业', 1, '3', 3);

-- 二级分类（制造业下）
INSERT INTO industry_categories (id, parent_id, name, level, path, sort_order) VALUES
(10, 1, '园艺制品', 2, '1/10', 1),
(11, 1, '电动工具', 2, '1/11', 2),
(12, 1, '汽车零部件', 2, '1/12', 3),
(13, 1, '家居建材', 2, '1/13', 4),
(14, 1, '机械设备', 2, '1/14', 5),
(15, 1, '纺织服装', 2, '1/15', 6),
(16, 1, '电子产品', 2, '1/16', 7),
(17, 1, '其他制造', 2, '1/17', 8);

-- 三级分类示例（电子产品下）
INSERT INTO industry_categories (id, parent_id, name, level, path, sort_order) VALUES
(160, 16, '消费电子', 3, '1/16/160', 1),
(161, 16, '工业电子', 3, '1/16/161', 2),
(162, 16, '智能硬件', 3, '1/16/162', 3);
```

> **说明**: 行业分类支持多级，企业选择叶子节点存储industry_id。可根据业务需要扩展分类。

### 企业类型
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('enterprise_type', 'production', '生产型', 1),
('enterprise_type', 'trading', '贸易型', 2),
('enterprise_type', 'both', '工贸一体', 3);
```

### 人员规模（staff_size）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('staff_size', 'lt10', '10人以下', 1),
('staff_size', '10-50', '10-50人', 2),
('staff_size', '50-200', '50-200人', 3),
('staff_size', '200-500', '200-500人', 4),
('staff_size', '500-1000', '500-1000人', 5),
('staff_size', 'gt1000', '1000人以上', 6);
```

### 营收规模（revenue）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('revenue', 'lt200', '200万以下', 1),
('revenue', '200-500', '200-500万', 2),
('revenue', '500-1000', '500-1000万', 3),
('revenue', '1000-5000', '1000-5000万', 4),
('revenue', 'gt5000', '5000万以上', 5);
```

### 企业来源（source）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('source', 'survey', '调研', 1),
('source', 'referral', '转介绍', 2),
('source', 'inquiry', '主动咨询', 3),
('source', 'activity', '活动', 4);
```

### 外贸模式（trade_mode）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('trade_mode', 'direct_export', '直接出口', 1),
('trade_mode', 'agent_export', '代理出口', 2),
('trade_mode', 'cross_border', '跨境电商', 3),
('trade_mode', 'oem', 'OEM/ODM', 4),
('trade_mode', 'mixed', '混合模式', 5);
```

### 外贸业务团队模式（trade_team_mode）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('trade_team_mode', 'self_operated', '自营团队', 1),
('trade_team_mode', 'outsourced', '外包团队', 2),
('trade_team_mode', 'mixed', '混合模式', 3),
('trade_team_mode', 'none', '无专职团队', 4);
```

### 产品认证（certification）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('certification', 'CE', 'CE认证', 1),
('certification', 'SGS', 'SGS认证', 2),
('certification', 'UL', 'UL认证', 3),
('certification', 'FCC', 'FCC认证', 4),
('certification', 'FDA', 'FDA认证', 5),
('certification', 'ISO9001', 'ISO9001', 6),
('certification', 'ISO14001', 'ISO14001', 7),
('certification', 'ROHS', 'ROHS认证', 8),
('certification', 'CCC', 'CCC认证', 9),
('certification', 'OTHER', '其他', 10);
```

### 销售区域（region）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('region', 'north_america', '北美', 1),
('region', 'europe', '欧洲', 2),
('region', 'southeast_asia', '东南亚', 3),
('region', 'east_asia', '东亚', 4),
('region', 'south_asia', '南亚', 5),
('region', 'middle_east', '中东', 6),
('region', 'africa', '非洲', 7),
('region', 'south_america', '南美', 8),
('region', 'oceania', '大洋洲', 9);
```

### 销售目标国（country）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
-- 北美
('country', 'US', '美国', 1),
('country', 'CA', '加拿大', 2),
('country', 'MX', '墨西哥', 3),
-- 欧洲
('country', 'GB', '英国', 10),
('country', 'DE', '德国', 11),
('country', 'FR', '法国', 12),
('country', 'IT', '意大利', 13),
('country', 'ES', '西班牙', 14),
('country', 'NL', '荷兰', 15),
('country', 'PL', '波兰', 16),
-- 亚太
('country', 'JP', '日本', 20),
('country', 'KR', '韩国', 21),
('country', 'AU', '澳大利亚', 22),
('country', 'SG', '新加坡', 23),
('country', 'MY', '马来西亚', 24),
('country', 'TH', '泰国', 25),
('country', 'VN', '越南', 26),
('country', 'ID', '印度尼西亚', 27),
('country', 'IN', '印度', 28),
-- 中东/非洲
('country', 'AE', '阿联酋', 30),
('country', 'SA', '沙特阿拉伯', 31),
('country', 'ZA', '南非', 32),
-- 南美
('country', 'BR', '巴西', 40),
('country', 'AR', '阿根廷', 41),
('country', 'CL', '智利', 42);
```

### 装备自动化程度（automation_level）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('automation_level', 'low', '低（30%以下）', 1),
('automation_level', 'medium', '中（30%-60%）', 2),
('automation_level', 'high', '高（60%-80%）', 3),
('automation_level', 'very_high', '很高（80%以上）', 4);
```

### 物流合作方（logistics）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('logistics', 'DHL', 'DHL', 1),
('logistics', 'FEDEX', 'FedEx', 2),
('logistics', 'UPS', 'UPS', 3),
('logistics', 'SF', '顺丰', 4),
('logistics', 'ZTO', '中通', 5),
('logistics', 'YTO', '圆通', 6),
('logistics', 'STO', '申通', 7),
('logistics', 'YUNDA', '韵达', 8),
('logistics', 'EMS', 'EMS', 9),
('logistics', 'OTHER', '其他', 10);
```

### 跟进类型（follow_type）
```sql
INSERT INTO system_options (category, value, label, sort_order) VALUES
('follow_type', 'phone', '电话', 1),
('follow_type', 'video', '视频', 2),
('follow_type', 'visit', '拜访', 3),
('follow_type', 'meeting', '会议', 4);
```

---

## ER图关系

```
users (1) ──────< follow_up_records (N)

industry_categories (1) ──────< enterprises (N)
industry_categories (自关联: parent_id -> id)

system_options (1) ──────< enterprises (N)  [staff_size_id, domestic_revenue_id, cross_border_revenue_id, source_id]

enterprises (1) ┬──────< enterprise_contacts (N)
                ├──────< enterprise_products (N)
                ├──────< enterprise_patents (N)
                ├──────< follow_up_records (N)
                └──────< stage_change_logs (N)
```

---

## 索引策略

| 表 | 索引 | 用途 |
|----|------|------|
| enterprises | name | 企业名称搜索 |
| enterprises | district, industry_id, stage | 筛选条件 |
| enterprises | source_id | 按企业来源查询 |
| enterprises | created_at | 时间排序 |
| follow_up_records | enterprise_id | 按企业查跟进 |
| follow_up_records | follow_date | 按日期统计 |

---

*文档版本：v1.0 | 更新日期：2026-01-30*
